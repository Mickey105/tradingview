import{M as y}from"./MainLogo.14cfea8b.js";import{_}from"./long-arrow-right.6b4bc820.js";import{_ as p,r as k,o as a,c as n,n as c,d as w,e,t as i,i as r,f as m,B as v,C as f}from"./index.8b30e6a1.js";const b={name:"ConfirmWithdrawalUrl",components:{MainLogo:y},props:["token"],data(){return{user_token:this.token,show_data:!1,wrong_token:!1,request_data:{amount:0,created:"",currency:"",method:"",destination:""},isEverythingOk:!1,errormsg:"",confirmed_ans:!1}},mounted(){this.$http.get("withdrawal/withdrawal-request-info/"+this.user_token).then(t=>{if(this.request_data=t.data,this.request_data.amount=t.data.amount,this.request_data.currency=t.data.currency,t.data.sci_gate_id){const o=t.data.sci_gate_id;if(o===1){const l=this.request_data.method=t.data.data.method;l==="qiwi"?this.request_data.destination=t.data.data.details.phone:(l==="mastercard"||l==="visa")&&(this.request_data.destination=t.data.data.details.pan)}else o===2?(this.request_data.method="AdvCash",this.request_data.destination=t.data.data.recipient):o===3&&(this.request_data.method=t.data.data.payment_system,this.request_data.destination=t.data.data.recipient_account)}else this.request_data.method=t.data.currency,this.request_data.destination=t.data.data.destination;this.wrong_token=!1,this.show_data=!0},()=>{this.wrong_token=!0,this.show_data=!0})},methods:{convertDate(t){let o=t.split(" "),l=o[0].split("-");return`${l[2]}.${l[1]}.${l[0]} ${o[1]}`},goToWallet(){this.$router.push("/wallet")},confirmWithdrawal(){this.$http.post("withdrawal/confirm-withdrawal-request",{confirmation_token:this.user_token}).then(()=>{this.confirmed_ans=!0,this.isEverythingOk=!0,this.errormsg=""},t=>{console.error(t.data),this.errormsg=this.$t("common.wrongtoken")})},cancelWithdrawal(){this.$http.post("withdrawal/cancel-withdrawal-request",{confirmation_token:this.user_token}).then(()=>{this.confirmed_ans=!1,this.isEverythingOk=!0,this.errormsg=""},t=>{console.error(t.data),this.errormsg=this.$t("common.wrongtoken")})}}},d=t=>(v("data-v-307de4ef"),t=t(),f(),t),x={class:"logIn__title"},q=d(()=>e("br",null,null,-1)),E=d(()=>e("img",{width:"20",class:"float-right","float-right":"",src:_},null,-1)),I={key:0,class:"logIn__title",style:{"max-width":"426px"}},O={key:1},C={key:2},B={class:"grid grid-cols-2"},W={class:"col-xs-6",style:{"text-align":"left"}},$={style:{"max-width":"426px"},class:"wr-line"},T={style:{"max-width":"426px"},class:"wr-line"},M={style:{"max-width":"426px"},class:"wr-line"},S={style:{"max-width":"426px"},class:"wr-line"},D={style:{"max-width":"426px"},class:"wr-line"},N={class:"col-xs-6",style:{"text-align":"left","max-width":"200px"}},V={style:{"max-width":"426px"},class:"wr-line"},L={style:{"max-width":"426px"},class:"wr-line"},U={style:{"max-width":"426px"},class:"wr-line"},A={style:{"max-width":"426px"},class:"wr-line"},z={style:{"max-width":"426px"},class:"wr-line"},j=d(()=>e("br",null,null,-1)),F=d(()=>e("img",{width:"20",class:"float-right","float-right":"",src:_},null,-1)),G=d(()=>e("img",{width:"20",class:"float-right","float-right":"",src:_},null,-1)),H={key:5,style:{"max-width":"426px",color:"#b74a4a",height:"25px"}},J={key:6,class:"logIn__title",style:{"max-width":"426px"}},K={key:7,class:"logIn__title",style:{"max-width":"426px"}},P=d(()=>e("img",{width:"20",class:"float-right","float-right":"",src:_},null,-1));function Q(t,o,l,R,s,h){const u=k("MainLogo");return a(),n("div",null,[s.show_data?r("",!0):(a(),n("div",{key:0,class:"logIn pb-5",style:c(t.loginBackground?`background: ${t.loginBackground} !important`:{})},[w(u),e("div",{class:"logIn__title",style:c(t.loginText?`color: ${t.loginText} !important`:{})},i(t.$t("common.pleasewait")),5)],4)),s.show_data&&s.wrong_token?(a(),n("div",{key:1,class:"logIn pb-5",style:c(t.loginBackground?`background: ${t.loginBackground} !important`:{})},[w(u),e("div",x,i(t.$t("common.wrongtoken")),1),q,e("button",{class:"btn btn--wallet btn-primary",onClick:o[0]||(o[0]=g=>h.goToWallet())},[m(i(t.$t("common.wallet"))+" ",1),E])],4)):r("",!0),s.show_data&&!s.wrong_token?(a(),n("div",{key:2,class:"logIn pb-5",style:c(t.loginBackground?`background: ${t.loginBackground} !important`:{})},[w(u),s.isEverythingOk?r("",!0):(a(),n("div",I,i(t.$t("common.withdreq")),1)),s.isEverythingOk?r("",!0):(a(),n("br",O)),s.isEverythingOk?r("",!0):(a(),n("div",C,[e("div",B,[e("div",W,[e("div",$,[e("b",null,i(t.$t("common.date"))+":",1)]),e("div",T,[e("b",null,i(t.$t("common.currency"))+":",1)]),e("div",M,[e("b",null,i(t.$t("common.amount"))+":",1)]),e("div",S,[e("b",null,i(t.$t("common.method"))+":",1)]),e("div",D,[e("b",null,i(t.$t("common.dest"))+":",1)])]),e("div",N,[e("div",V,i(h.convertDate(s.request_data.created)),1),e("div",L,i(s.request_data.currency),1),e("div",U,i(s.request_data.amount),1),e("div",A,i(s.request_data.method),1),e("div",z,i(s.request_data.destination),1)])])])),j,s.isEverythingOk?r("",!0):(a(),n("button",{key:3,type:"submit",class:"btn btn-primary",style:{"margin-top":"20px",height:"50px",width:"200px"},onClick:o[1]||(o[1]=g=>h.confirmWithdrawal())},[m(i(t.$t("common.confirm"))+" ",1),F])),s.isEverythingOk?r("",!0):(a(),n("button",{key:4,type:"submit",class:"btn btn-danger",style:{"text-align":"left","margin-top":"20px",height:"50px",width:"200px"},onClick:o[2]||(o[2]=g=>h.cancelWithdrawal())},[m(i(t.$t("common.cancel"))+" ",1),G])),s.isEverythingOk?r("",!0):(a(),n("div",H,i(s.errormsg),1)),s.isEverythingOk&&s.confirmed_ans?(a(),n("div",J,i(t.$t("common.requestconfirmed")),1)):r("",!0),s.isEverythingOk&&!s.confirmed_ans?(a(),n("div",K,i(t.$t("common.cancelled")),1)):r("",!0),s.isEverythingOk?(a(),n("button",{key:8,class:"btn btn--wallet btn-primary",onClick:o[3]||(o[3]=g=>h.goToWallet())},[m(i(t.$t("common.wallet"))+" ",1),P])):r("",!0)],4)):r("",!0)])}var tt=p(b,[["render",Q],["__scopeId","data-v-307de4ef"]]);export{tt as default};
