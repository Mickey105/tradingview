import{M as h}from"./MainLogo.14cfea8b.js";import{_ as w,r as g,o as a,c as i,d as c,F as f,e as t,t as n,g as p,v as d,h as u,n as _,w as v}from"./index.8b30e6a1.js";const k={name:"UserResetUrl",components:{MainLogo:h},props:["uid","token"],data(){return{user_id:this.uid,user_token:this.token,showBanner:!1,pass1:"",pass2:"",errorspassword1:!1,errorspassword2:!1,warningText:""}},methods:{validateData(){let e=this,s=0;return this.pass1.length<6?(this.warningText=e.$t("common.min_password"),this.errorspassword1=!0,s=s+1):(this.errorspassword1=!1,this.warningText=""),this.pass2!==this.pass1?(this.errorspassword2=!0,this.warningText=e.$t("common.passwords_not_equal"),s=s+1):this.pass1.length<6?(this.errorspassword2=!0,this.warningText=e.$t("common.min_password"),this.errorspassword=!0,s=s+1):(this.warningText="",this.errorspassword2=!1),s===0},resetPassword(){this.validateData()&&this.$http.post("auth/password/reset/confirm/",{uid:this.user_id,token:this.user_token,new_password1:this.pass1,new_password2:this.pass2}).then(()=>{this.showBanner=!1,localStorage.setItem("resetpass",!0),this.$router.push("/login")},()=>{this.showBanner=!0})}}},y={class:"logIn__title"},I={class:"text-danger"},B=["value"],b={key:1,class:"logIn__title"};function T(e,s,U,C,r,l){const m=g("MainLogo");return a(),i("div",{class:"logIn pb-5 reset-password",style:_(e.loginBackground?`background: ${e.loginBackground} !important`:{})},[c(m),r.showBanner?(a(),i("div",b,n(e.$t("common.saveError"))+". "+n(e.$t("common.err")),1)):(a(),i(f,{key:0},[t("div",y,n(e.$t("common.passwordrecovery")),1),t("form",{class:"logIn__form",novalidate:"",onSubmit:s[3]||(s[3]=v(o=>{r.pass1,r.pass2},["prevent"]))},[p(t("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>r.pass1=o),class:u([{"input-has-error":r.errorspassword1},"logIn__form__input"]),type:"password",placeholder:"Password"},null,2),[[d,r.pass1]]),t("p",I,n(r.warningText),1),p(t("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>r.pass2=o),class:u([{"input-has-error":r.errorspassword2},"logIn__form__input"]),type:"password",placeholder:"Confirm password"},null,2),[[d,r.pass2]]),t("input",{style:_([{},e.mainColor?`background: ${e.mainColor} !important`:{}]),class:"reset-password__button logIn__form__input logIn__form__input_button opacitychangebtn",type:"submit",value:e.$t("common.change"),onClick:s[2]||(s[2]=(...o)=>l.resetPassword&&l.resetPassword(...o))},null,12,B)],32)],64))],4)}var D=w(k,[["render",T],["__scopeId","data-v-c60dc8f8"]]);export{D as default};
